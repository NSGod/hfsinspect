{"name":"hfsinspect","tagline":"An open-source HFS+ filesystem explorer and debugger (in the spirit of hfsdebug)","body":"This program is a work-in-progress and is quite buggy in its current state.  That said, it's read-only and can display some really interesting information already so have a run with it, help where you can, and file some suggestions on the site.\r\n\r\nhttps://github.com/ahknight/hfsinspect\r\n\r\n# Quick Guide\r\n\r\nYou'll need Xcode 4+ to build right now, and it does use OS X system headers (though I plan on changing that in the future).\r\n\r\nOnce built and the product located, go ahead and hit \"hfsinspect --help\" for a quick blurb about the options.\r\n\r\n## Examples\r\n\r\n    $ hfsinspect -d ./fstest -l -P /\r\n    Listing for FS Test\r\n    CNID      kind       mode       user      group     data            rsrc            name\r\n    18        folder     d--------- 0         0         -               -               ␀␀␀␀HFS+ Private Data\r\n    19        folder     dr-xr-xr-t 0         0         -               -               .HFS+ Private Directory Data\r\n    20        folder     d-wx-wx-wt 501       20        -               -               .Trashes\r\n    21        folder     drwx------ 501       20        -               -               .fseventsd\r\n    16        file       ---------- 0         0         512.00 KiB      0.00 bytes      .journal\r\n    17        file       ---------- 0         0         4.00 KiB        0.00 bytes      .journal_info_block\r\n    ----------------------------------------------------------------------------------------------------\r\n                                                        516.00 KiB      0.00 bytes\r\n       Folders: 4          Data forks: 2          Hard links: 0\r\n         Files: 2          RSRC forks: 0            Symlinks: 0\r\n\r\n    $ hfsinspect -d ./fstest -P /\r\n\r\n    #   Record ID 1 (2/20) (offset 124; length: 32) (Node 1)\r\n\r\n      Catalog Key\r\n     +-----------------------------------------------------------------------------------+\r\n     | length | parentID   | length | nodeName                                           |\r\n     | 6      | 2          | 0      |                                                    |\r\n     +-----------------------------------------------------------------------------------+\r\n      recordType             = kHFSPlusFolderThreadRecord\r\n      reserved               = 0\r\n      parentID               = 1\r\n      nodeName               = \"FS Test\" (7)\r\n    \r\n    $ hfsinspect -d ./fstest -P /.journal\r\n\r\n    #   Record ID 6 (7/20) (offset 676; length: 272) (Node 1)\r\n\r\n      Catalog Key\r\n     +-----------------------------------------------------------------------------------+\r\n     | length | parentID   | length | nodeName                                           |\r\n     | 22     | 2          | 8      | .journal                                           |\r\n     +-----------------------------------------------------------------------------------+\r\n      recordType             = kHFSPlusFileRecord\r\n      flags                  = 00000000000000000000000000000010\r\n                             . kHFSThreadExistsMask\r\n      reserved1              = 0\r\n      fileID                 = 16\r\n      createDate             = Sun May 12 00:42:42 2013 UTC\r\n      contentModDate         = Sun May 12 00:42:42 2013 UTC\r\n      attributeModDate       = Thu Jan  1 00:00:00 1970 UTC\r\n      accessDate             = Thu Jan  1 00:00:00 1970 UTC\r\n      backupDate             = Thu Jan  1 00:00:00 1970 UTC\r\n      ownerID                = 0\r\n      groupID                = 0\r\n      adminFlags             = 000000\r\n      ownerFlags             = 000000\r\n      fileMode               = ----------\r\n      fileMode               = 100000\r\n                             . 100000 (S_IFREG)\r\n      special.linkCount      = 1\r\n      fdType                 = 0x6A726E6C (jrnl)\r\n      fdCreator              = 0x6866732B (hfs+)\r\n      fdFlags                = 00000000000000000000000001010000\r\n                             . kNameLocked (4096)\r\n                             . kIsInvisible (16384)\r\n      fdLocation             = (0, 0)\r\n      opaque                 = 0\r\n      textEncoding           = 0\r\n      reserved2              = 0\r\n      fork                   = data\r\n      logicalSize            = 512.00 KiB (524288 bytes)\r\n      clumpSize              = 0.00 bytes (0 bytes)\r\n      totalBlocks            = 512.00 KiB (128 blocks)\r\n      extents                =   startBlock   blockCount    % of file\r\n                                          3          128       100.00\r\n                               --------------------------------------\r\n                                  1 extents          128       100.00\r\n                               128.00 blocks per extent on average.\r\n      fork                   = resource\r\n      logicalSize            = (empty)\r\n\r\n      $ hfsinspect -d ./fstest -v\r\n\r\n      # HFSX Volume Format (v5)\r\n        volume name            = FS Test\r\n        case sensitivity       = case sensitive\r\n        bootable               = no\r\n\r\n      # HFS Plus Volume Header\r\n        signature              = 0x4858 (HX)\r\n        version                = 5\r\n        attributes             = 00000000000000000000000000000000\r\n                               = 00000000000000000010000000100001\r\n                               . kHFSVolumeUnmountedMask (256)\r\n                               . kHFSVolumeJournaledMask (8192)\r\n                               . kHFSUnusedNodeFixMask (18446744071562067968)\r\n                               . kHFSMDBAttributesMask (33664)\r\n        lastMountedVersion     = 0x4846534A (HFSJ)\r\n        journalInfoBlock       = 2\r\n        createDate             = Sat May 11 19:42:41 2013 UTC\r\n        modifyDate             = Sun May 12 06:24:19 2013 UTC\r\n        backupDate             = Thu Jan  1 00:00:00 1970 UTC\r\n        checkedDate            = Sun May 12 00:42:41 2013 UTC\r\n        fileCount              = 5\r\n        folderCount            = 4\r\n        blockSize              = 4.00 KiB (4096 bytes)\r\n        totalBlocks            = 100.00 MiB (25600 blocks)\r\n        freeBlocks             = 97.13 MiB (24865 blocks)\r\n        nextAllocation         = 4733\r\n        rsrcClumpSize          = 64.00 KiB (65536 bytes)\r\n        dataClumpSize          = 64.00 KiB (65536 bytes)\r\n        nextCatalogID          = 25\r\n        writeCount             = 6\r\n        encodingsBitmap        = 00000000000000000000000000000000\r\n                               = 00000000000000000000000000000000\r\n                               = 00000000000000000000000000000000\r\n                               = 00000000000000000000000000000001\r\n                               . kTextEncodingMacRoman (0)\r\n\r\n      # Finder Info\r\n        bootDirID              = 0 ()\r\n        bootParentID           = 0 ()\r\n        openWindowDirID        = 0 ()\r\n        os9DirID               = 0 ()\r\n        reserved               = 00000000000000000000000000000000\r\n                               = 00000000000000000000000000000000\r\n        osXDirID               = 0 ()\r\n        volID                  = 0x7EF9BE3682182A73\r\n\r\n      # Journal Info Block\r\n        flags                  = 00000000000000000000000000000000\r\n                               = 00000000000000000000000000000001\r\n                               . kJIJournalInFSMask (1)\r\n        device_signature       = 0x00000000000000000000000000000000\r\n                               = 0x00000000000000000000000000000000\r\n        offset                 = 12.00 KiB (12288 bytes)\r\n        size                   = 512.00 KiB (524288 bytes)\r\n        ext_jnl_uuid           =\r\n        machine_serial_num     =\r\n\r\n      # Allocation Bitmap File\r\n        fork                   = data\r\n        logicalSize            = 4.00 KiB (4096 bytes)\r\n        clumpSize              = 4.00 KiB (4096 bytes)\r\n        totalBlocks            = 4.00 KiB (1 blocks)\r\n        extents                =   startBlock   blockCount    % of file\r\n                                            1            1       100.00\r\n                                 --------------------------------------\r\n                                    1 extents            1       100.00\r\n                                 1.00 blocks per extent on average.\r\n\r\n      # Extents Overflow File\r\n        fork                   = data\r\n        logicalSize            = 800.00 KiB (819200 bytes)\r\n        clumpSize              = 800.00 KiB (819200 bytes)\r\n        totalBlocks            = 800.00 KiB (200 blocks)\r\n        extents                =   startBlock   blockCount    % of file\r\n                                          131          200       100.00\r\n                                 --------------------------------------\r\n                                    1 extents          200       100.00\r\n                                 200.00 blocks per extent on average.\r\n\r\n      # Catalog File\r\n        fork                   = data\r\n        logicalSize            = 800.00 KiB (819200 bytes)\r\n        clumpSize              = 800.00 KiB (819200 bytes)\r\n        totalBlocks            = 800.00 KiB (200 blocks)\r\n        extents                =   startBlock   blockCount    % of file\r\n                                         2531          200       100.00\r\n                                 --------------------------------------\r\n                                    1 extents          200       100.00\r\n                                 200.00 blocks per extent on average.\r\n\r\n      # Attributes File\r\n        fork                   = data\r\n        logicalSize            = 800.00 KiB (819200 bytes)\r\n        clumpSize              = 800.00 KiB (819200 bytes)\r\n        totalBlocks            = 800.00 KiB (200 blocks)\r\n        extents                =   startBlock   blockCount    % of file\r\n                                          331          200       100.00\r\n                                 --------------------------------------\r\n                                    1 extents          200       100.00\r\n                                 200.00 blocks per extent on average.\r\n\r\n      # Startup File\r\n        fork                   = data\r\n        logicalSize            = (empty)\r\n\r\n    $ ls -l file\r\n    -rw-r--r--  1 ahknight  staff  10240 May 24 17:35 file\r\n    \r\n    $ hfsinspect -p file\r\n\r\n    #   Record ID 14 (15/23) (offset 2252; length: 264) (Node 86272)\r\n\r\n      Catalog Key\r\n     +-----------------------------------------------------------------------------------+\r\n     | length | parentID   | length | nodeName                                           |\r\n     | 14     | 379620     | 4      | file                                               |\r\n     +-----------------------------------------------------------------------------------+\r\n      recordType             = kHFSPlusFileRecord\r\n      flags                  = 00000000000000000000000010000010\r\n                             . kHFSThreadExistsMask\r\n                             . kHFSHasDateAddedMask\r\n      reserved1              = 0\r\n      fileID                 = 108228801\r\n      createDate             = Fri May 24 22:35:34 2013 UTC\r\n      contentModDate         = Fri May 24 22:35:34 2013 UTC\r\n      attributeModDate       = Fri May 24 22:35:34 2013 UTC\r\n      accessDate             = Tue Jun 18 03:47:49 2013 UTC\r\n      backupDate             = Thu Jan  1 00:00:00 1970 UTC\r\n      ownerID                = 501\r\n      groupID                = 20\r\n      adminFlags             = 000000\r\n      ownerFlags             = 000000\r\n      fileMode               = -rw-r--r--\r\n      fileMode               = 100644\r\n                             . 100000 (S_IFREG)\r\n                             . 000400 (S_IRUSR)\r\n                             . 000200 (S_IWUSR)\r\n                             . 000040 (S_IRGRP)\r\n                             . 000004 (S_IROTH)\r\n      special.linkCount      = 1\r\n      fdType                 = 0x00000000 ()\r\n      fdCreator              = 0x00000000 ()\r\n      fdFlags                = 00000000000000000000000000000000\r\n      fdLocation             = (0, 0)\r\n      opaque                 = 0\r\n      textEncoding           = 0\r\n      reserved2              = 0\r\n      fork                   = data\r\n      logicalSize            = 10.00 KiB (10240 bytes)\r\n      clumpSize              = 0.00 bytes (0 bytes)\r\n      totalBlocks            = 12.00 KiB (3 blocks)\r\n      extents                =   startBlock   blockCount    % of file\r\n                                   95046227            3       100.00\r\n                               --------------------------------------\r\n                                  1 extents            3       100.00\r\n                               3.00 blocks per extent on average.\r\n      fork                   = resource\r\n      logicalSize            = (empty)\r\n    \r\n    $ hfsinspect -p /Volumes/TARDIS/Backups.backupdb/Gallifrey/2013-05-29-011753/Hubert/ -l\r\n    Listing for Hubert\r\n    CNID      kind       mode       user      group     data            rsrc            name\r\n    10929881  hard link  -r--r--r-- 11151100  10812491  0.00 bytes      0.00 bytes      .apdisk\r\n    10929892  file       -rw-r--r-- 0         20        181.00 bytes    0.00 bytes      .com.apple.backupd.mvlist.plist\r\n    10929882  hard link  -r--r--r-- 11151101  10812492  0.00 bytes      0.00 bytes      .com.apple.timemachine.donotpresent\r\n    10929883  dir link   -r--r--r-- 0         0         0.00 bytes      464.00 bytes    .DocumentRevisions-V100\r\n    10929884  hard link  -r--r--r-- 11151103  0         0.00 bytes      0.00 bytes      .DS_Store\r\n    10929885  hard link  -r--r--r-- 11151104  10812495  0.00 bytes      0.00 bytes      .VolumeIcon.icns\r\n    10929886  dir link   -r--r--r-- 11151105  10812496  0.00 bytes      464.00 bytes    [redacted]\r\n    10929887  dir link   -r--r--r-- 11151106  0         0.00 bytes      464.00 bytes    Archived Music\r\n    10929888  dir link   -r--r--r-- 11151107  10812498  0.00 bytes      464.00 bytes    Backups\r\n    10929889  dir link   -r--r--r-- 11151108  0         0.00 bytes      464.00 bytes    [redacted]\r\n    ----------------------------------------------------------------------------------------------------\r\n                                                  181.00 bytes    5.00 bytes\r\n    Folders: 0          Data forks: 1          Hard links: 9\r\n      Files: 1          RSRC forks: 5            Symlinks: 0\r\n\r\n    $ hfsinspect -c 18 -l\r\n    Listing for �<90><80>�<90><80>�<90><80>�<90><80>HFS+ Private Data\r\n    CNID      kind       mode       user      group     data            rsrc            name\r\n    100043847 file       -rw-r--r-- 501       20        32.00 MiB       0.00 bytes      iNode100043847\r\n    100049839 file       -r--r--r-- 501       20        1.69 KiB        0.00 bytes      iNode100049839\r\n    100196873 file       -r--r--r-- 501       20        2.05 KiB        0.00 bytes      iNode100196873\r\n    ...\r\n    86494855  file       -rw-r--r-- 0         0         0.00 bytes      10.36 KiB       temp86494855\r\n    86494857  file       -rw-r--r-- 0         0         0.00 bytes      111.80 KiB      temp86494857\r\n    86494861  file       -rw-r--r-- 0         0         0.00 bytes      13.33 KiB       temp86494861\r\n    ----------------------------------------------------------------------------------------------------\r\n                                                      14.18 GiB       129.00 bytes\r\n     Folders: 68         Data forks: 7663       Hard links: 0\r\n       Files: 8613       RSRC forks: 129          Symlinks: 0\r\n\r\n    $ hfsinspect -s -V /Volumes/Titania/\r\n    # Volume Summary\r\n      nodeCount              = 20780\r\n      recordCount            = 858836\r\n      fileCount              = 366108\r\n      folderCount            = 71988\r\n      aliasCount             = 4\r\n      hardLinkFileCount      = 0\r\n      hardLinkFolderCount    = 0\r\n      symbolicLinkCount      = 311\r\n      invisibleFileCount     = 293\r\n      emptyFileCount         = 8678\r\n      emptyDirectoryCount    = 0\r\n\r\n    # Data Fork\r\n      count                  = 357067\r\n      fragmentedCount        = 7839\r\n      blockCount             = 279.51 GiB (73271622 blocks)\r\n      logicalSpace           = 278.83 GiB (299390329775 bytes)\r\n      extentRecords          = 357067\r\n      extentDescriptors      = 372671\r\n      overflowExtentRecords  = 0\r\n      overflowExtentDescriptors= 0\r\n\r\n    # Resource Fork\r\n      count                  = 6575\r\n      fragmentedCount        = 1\r\n      blockCount             = 341.55 MiB (87437 blocks)\r\n      logicalSpace           = 327.25 MiB (343150709 bytes)\r\n      extentRecords          = 6575\r\n      extentDescriptors      = 6576\r\n      overflowExtentRecords  = 0\r\n      overflowExtentDescriptors= 0\r\n\r\n    # Largest Files\r\n    #       Size       CNID\r\n    1   7.42 GiB     807918 MOSX.vdi\r\n    2   2.22 GiB     810796 [redacted]\r\n    3   1.62 GiB     807943 winxp-000001-s002.vmdk\r\n    4   1.49 GiB     808013 Virtual Disk-s001.vmdk\r\n    5   1.48 GiB     807964 winxp-s001.vmdk\r\n    6   1.47 GiB     799434 [redacted]\r\n    7   1.37 GiB     816888 [redacted]\r\n    8   1.28 GiB     810661 [redacted]\r\n    9   1.21 GiB     128733 [redacted]\r\n\r\nHopefully you get the idea.  Have fun!\r\n","google":"","note":"Don't delete this file! It's used internally to help with page regeneration."}